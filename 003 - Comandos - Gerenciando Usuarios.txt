1 ------------- Criando e excluindo usuarios
useradd usuario
Criar usuario simples sem senha. Permite . e _. Evite usar acentos.

userdel -f usuario
Deletar usuario. -f para forçar a exclusão

useradd usuario -m -c "Comentario"
-m para incluir uma pasta do usuario na home
-c para incluir um comentario sobre o usuario. Geralmente utilizado para inserir o nome completo

passwd usuario
Incluir uma senha para o usuario. Tambem utilizado para trocar a senha em caso de esquecimento

chsh -s /bin/bash usuario
Inserir um shell padrao para o usuario utilizar

userdel -r -f usuario
-r para deletar o usuario, sua pasta na home e configurações de email

useradd -m -c "usuarioNome usuarioSobrenome" -s /bin/bash
Criar o usuario com a pasta, comentario e acesso shell padrao

2 ------------- Editando informações do usuario

useradd usuario -m -e 26/06/2022
-e define uma data limite para o usuario poder acessar

usermod usuario -s /bin/bash
Modifica um usuario existente, no caso modificando o shell do usuario

passwd -e
Define periodo de expiracao da senha. Se não for informada uma data, a senha é expirada na mesma hora

cat /etc/password
Lista os usuarios existentes no sistema e suas informações (login, id, grupo, comentario, pasta, shell)

3 ------------- Shell Script - Criando usuarios em lote

useradd convidado1 -c "Convidado especial" -s /bin/bash -m -p $(openssl passwd Senha123)
Cria um usuario já especificando uma senha e encriptando-a

nano criar_user.sh
Criar um script

chmod +x criar_user.sh
Para permitir um arquivo executar funções
+x permite que o script execute instalações ou execute suas funções

./criar_user
Executa o arquivo

**Comandos Script
O script deve possuir o comando #!/bin/bash na primeira linha
echo exibe uma mensagem na tela

Exemplo do script criado:
#!/bin/bash

echo "Criando usuariios do sistema..."

useradd guest10 -c "Usuario convidado" -s /bin/bash -m -p $(openssl passwd Senha123)
passwd guest10 -e

useradd guest11 -c "Usuario convidado" -s /bin/bash -m -p $(openssl passwd Senha123)
passwd guest11 -e


useradd guest12 -c "Usuario convidado" -s /bin/bash -m -p $(openssl passwd Senha123)
passwd guest12 -e


useradd guest13 -c "Usuario convidado" -s /bin/bash -m -p $(openssl passwd Senha123)
passwd guest13 -e


useradd guest14 -c "Usuario convidado" -s /bin/bash -m -p $(openssl passwd Senha123)
passwd guest15 -e

echo "Finalizado!!"

4 ------------- Adicionando usuarios a grupos
useradd marianaa -c "Mariana dos Anjos" -m -s /bin/bash -p $(openssl passwd Senha123)

cat /etc/group
Para verificar todos os grupos.
Sempre que um usuario é criado, é criado um grupo com mesmo nome

usermod -G adm,sudo marianaa
Adicionar o usuario aos grupos adm e sudo. O usuario precisa reiniciar para acessar os novos privilegios
-g força a ir de um grupo para outro
-G possibilita incluir em varios grupos

5 ------------- Criando novos grupos
groupadd GRUPO_NOME
Adicionar novos grupos

grupodel GRUPO_NOME
Deletar um grupo

useradd usuario -c "Usuario" -m -s /bin/bash -p $(openssl passwd Senha123) -G GRUPO_NOME
Criar usuario ja vinculando-o a um grupo

gpasswd -d usuario GRUPO_NOME
Remove o usuario de um grupo

6 ------------- Conhecendo o sistema de permissões
ls -l
-l Exibe as caracteristicas e permissões do diretorio e arquivos

**Legenda:
r read | w write | x execute
d directory | - executable

O primeiro é o tipo de arquivo
Os 3 seguintes informam as permissões do dono
Os proximos 3 as permissões daqueles dentro do grupo
Os 3 ultimos as permissões de outros usuarios

-rw-r--r--
Arquivo com permissao para leitura, escrita para o dono
Apenas leitura para membros do grupo
Apenas leitura para outros

drwxr-xr-x
Diretorio com permissao para leitura, escrita e execução para o dono
Apenas execução e leitura para membros do grupo
Apenas execução para outros (Abrir um diretorio é considerado execução. Criação de arquivos é  escrita)


**Comandos
chown usuarioDonoGrupo:GRUPO_NOME diretorio_alvo
chown - CHange OWner
Modifica o dono e grupo do diretorio alvo

7 ------------- Alterando as permissões de um diretorio-arquivo
Leitura(r) 4 | Gravação(w) 2 | Execução(x) 1 | Nenhuma 0

chmod 750 /diretorio
Primeiro valor modifica as permissões do dono
Segundo valor modifica as permissões do grupo
Segundo valor modifica as permissões para outros usuarios

A soma de todos os numeros (7) significa que vai habilitar todos os acessos (rwx)
0 remove todas as permissões (---)


chmod 750 arquivo.ext
Mudar as permissões de um arquivo

8 ------------- Entendendo melhor as permissões de execução para scripts
nano date.sh
Criar arquivo de script

ls -l
Para ver detalhes dos arquivos-diretorios da pasta

chmod 744 date.sh
Modificar as permissões para permissão total ao dono, leitura para o grupo e leitura para outros

./date.sh
Executar o script

chmod +x date.sh
Esse comando simplifica a permissão de execução apenas para o dono

chmod -x date.sh
Esse comando simplifica a remoção de permissão de execução para o dono

**Conteudo do script:
#!/bin/bash
echo "Exibindo data atual..."
date






























